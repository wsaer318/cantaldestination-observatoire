/*
====================================================
  TABLE DES MATIÈRES DU CSS
====================================================
1. Variables & Reset
2. Layout général
3. Navbar principale
4. Sidebar
5. Boutons
6. Formulaires & Filtres
7. Tables & Tableaux
8. Composants (cards, badges, etc.)
9. Typographie & Listes
10. Animations & Effets
11. Responsive
====================================================
*/

/* =============================
   1. Variables & Reset (nettoyé)
   ============================= */
:root {
  --bg: #0F0F1A;
  --surface: rgba(20, 22, 37, 0.8);
  --surface-glass: rgba(20, 22, 37, 0.7);
  --surface-alt: rgba(20, 22, 37, 0.6);
  --border: rgba(255, 255, 255, 0.1);
  --on-surface: #F0F0F0;
  --primary: #F1C40F;
  --primary-light: #F9E79F;
  --primary-dark: #B7950B;
  --secondary: #1ABC9C;
  --accent: #9B59B6;
  --accent2: #E74C3C;
  --accent3: #3498DB;
  --accent4: #27AE60;
  --accent-rgb: 155, 89, 182;
  --accent2-rgb: 231, 76, 60;
  --accent3-rgb: 52, 152, 219;
  --accent4-rgb: 39, 174, 96;
  --accent-glow: #F1C40F;
  --white: #fff;
  --light: #f8f9fa;
  --light-gray: #e0e0e0;
  --dark: #222;
  --text: var(--on-surface);
  --shadow-light: 0 4px 30px rgba(0, 0, 0, 0.7);
  --radius: 20px;
  --border-radius: 12px;
  --border-radius-sm: 6px;
  --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  --title-font: 'Playfair Display', serif;
  --body-font: 'Raleway', sans-serif;
  --code-font: 'Source Code Pro', monospace;
  --letter-spacing-title: -0.02em;
  --letter-spacing-body: 0.01em;
  /* Breakpoints centralisés */
  --breakpoint-lg: 992px;
  --breakpoint-md: 768px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  padding-top: 80px;
  font-family: var(--body-font);
  color: var(--text);
  line-height: 1.6;
  background: var(--bg);
  overflow-x: hidden;
  font-weight: 400;
  letter-spacing: var(--letter-spacing-body);
  min-height: 100vh;
}

body::before {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(45, 125, 210, 0.03) 0%, rgba(69, 182, 156, 0.03) 100%);
  z-index: -1;
  pointer-events: none;
}

/* Particles au-dessus du container mais derrière les sections */
#tsparticles {
  position: fixed !important;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1 !important;
  pointer-events: none;
}

/* =============================
   2. Layout général (nettoyé)
   ============================= */
.container {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 30px;
  max-width: 1400px;
  margin: 0 auto 20px;
  background: var(--surface);
  backdrop-filter: blur(20px);
  border-radius: var(--radius);
  box-shadow: var(--shadow-light);
  overflow: hidden;
  position: relative;
  min-height: calc(100vh - 120px);
  z-index: 10;
}

.container::before,
.container::after {
  content: '';
  position: absolute;
  z-index: 0;
  pointer-events: none;
}

.container::before {
  top: -200px;
  left: -200px;
  width: 400px;
  height: 400px;
  background-image:
    radial-gradient(circle at 30% 30%, var(--accent) 0%, transparent 70%),
    radial-gradient(circle at 70% 20%, var(--accent2) 0%, transparent 70%),
    radial-gradient(circle at 50% 80%, var(--accent3) 0%, transparent 70%);
  background-size: 60% 60%, 50% 50%, 40% 40%;
  background-repeat: no-repeat;
  opacity: 0.12;
}

.container::after {
  bottom: -150px;
  right: -150px;
  width: 350px;
  height: 350px;
  background-image:
    radial-gradient(circle at 20% 80%, var(--secondary) 0%, transparent 70%),
    radial-gradient(circle at 80% 60%, var(--accent2) 0%, transparent 70%);
  background-size: 80% 80%, 50% 50%;
  background-repeat: no-repeat;
  opacity: 0.10;
}

/* =============================
   3. Navbar principale
   ============================= */
.main-navbar {
  background: var(--surface-glass, rgba(20, 22, 37, 0.7)); /* Use theme variable or fallback */
  backdrop-filter: blur(15px); /* Glass effect */
  color: var(--on-surface, white); /* Theme text color */
  padding: 10px 20px;
  height: 60px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 1000;
  box-shadow: 0 2px 10px rgba(0,0,0,0.3); /* Adjusted shadow */
  border-bottom: 1px solid var(--border, rgba(255, 255, 255, 0.1)); /* Theme border */
}
.navbar-left, .navbar-right {
  display: flex;
  align-items: center;
}
.navbar-center {
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
}
.nav-brand {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: var(--on-surface);
  font-weight: 600;
  font-size: 1.2rem;
}
.nav-brand img {
  margin-right: 12px;
}
.nav-brand span {
  font-family: var(--title-font);
  letter-spacing: var(--letter-spacing-title);
}

.nav-mission {
  margin-left: 15px;
  padding-left: 15px;
  border-left: 1px solid var(--border);
}

.nav-mission small {
  color: var(--primary);
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  opacity: 0.9;
}
.nav-link {
  color: var(--on-surface);
  text-decoration: none;
  padding: 8px 16px;
  margin: 0 4px;
  border-radius: var(--border-radius-sm);
  transition: all 0.3s;
  font-weight: 500;
  position: relative;
  display: flex;
  align-items: center;
  font-size: 0.85rem; /* Réduire la taille de police */
}
.nav-link i {
  margin-right: 8px;
  width: 16px; /* Ensure icons align well */
  text-align: center;
}
.nav-link:hover {
  background: rgba(255, 255, 255, 0.1);
}
.nav-link.active {
  background: rgba(255, 255, 255, 0.15);
  position: relative;
}
.nav-link.active::after {
  content: '';
  position: absolute;
  bottom: -1px;
  left: 16px;
  right: 16px;
  height: 3px;
  background: var(--primary);
  border-radius: 3px 3px 0 0;
}

/* Dropdown styles */
.dropdown {
    position: relative;
    display: inline-block; /* Or block if it takes full width */
}

/* Style the dropdown toggle (the visible part) */
.dropdown > span {
    cursor: default; /* Indicate it's not directly clickable */
    display: inline-flex; /* Align icon and text */
    align-items: center;
}

/* Style the dropdown arrow */
.dropdown > span .fa-caret-down {
    margin-left: 5px;
    font-size: 0.8em;
}

/* Hide dropdown menu by default */
.dropdown-menu {
    display: none;
    position: absolute;
    background-color: var(--surface-glass, rgba(20, 22, 37, 0.7)); /* Use theme glass background */
    min-width: 160px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.3);
    z-index: 1000; /* Ensure it's above other content */
    list-style: none;
    padding: 10px 0;
    margin: 0;
    border-radius: var(--border-radius-sm, 6px); /* Use theme radius */
    top: 100%; /* Position below the trigger */
    left: 0;
    border-top: 1px solid var(--primary, #F1C40F); /* Use theme primary accent */
}

/* Show dropdown menu on hover */
.dropdown:hover .dropdown-menu {
    display: block;
}

/* Style dropdown items */
.dropdown-menu li a {
    color: var(--on-surface, #F0F0F0); /* Use theme text color */
    padding: 10px 15px;
    text-decoration: none;
    display: block;
    white-space: nowrap;
    font-size: 0.9em;
}

/* Style dropdown item hover */
.dropdown-menu li a:hover {
    background-color: var(--primary, #F1C40F); /* Use theme primary accent */
    color: var(--bg, #0F0F1A); /* Use theme background for text contrast */
}

/* Nouveaux styles pour les dropdowns enrichis */
.dropdown-header {
    padding: 8px 16px;
    font-size: 0.75rem;
    font-weight: 600;
    color: var(--primary) !important;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 5px;
    background: none !important;
    cursor: default;
}

.dropdown-divider {
    height: 1px;
    background: var(--border);
    margin: 8px 0;
}

.dropdown-menu li a i {
    margin-right: 8px;
    width: 16px;
    text-align: center;
    font-size: 0.9rem;
    opacity: 0.8;
}

.dropdown-menu li a:hover i {
    opacity: 1;
}

/* =============================
   4. Sidebar
   ============================= */
.sidebar {
  background: var(--surface);
  backdrop-filter: blur(20px);
  border-radius: var(--radius);
  box-shadow: var(--shadow-light);
  color: var(--white);
  padding: 25px;
  min-height: calc(100vh - 40px);
  position: relative;
  overflow: hidden;
  z-index: 1;
  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
  border-right: 1px solid var(--border);
}
.sidebar::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    url('../images/mountain.svg'),
    radial-gradient(circle at 120% 50%, rgba(255,255,255,0.1) 0%, transparent 60%);
  background-repeat: no-repeat, no-repeat;
  background-position: bottom right, top left;
  background-size: 200px, 300px;
  opacity: 0.2;
  z-index: -1;
  pointer-events: none;
}
.sidebar::after {
  content: '';
  position: absolute;
  top: -30px;
  right: -30px;
  width: 150px;
  height: 150px;
  background: radial-gradient(circle, rgba(255, 107, 53, 0.6) 0%, transparent 75%);
  opacity: 0.3;
  z-index: -1;
  border-radius: 50%;
}
.geometric-shape {
  position: absolute;
  z-index: 0;
  opacity: 0.05;
  transition: all 0.8s ease;
}
.shape-1 {
  width: 80px;
  height: 80px;
  background: var(--accent);
  top: 15%;
  left: -20px;
  transform: rotate(45deg);
}

.shape-2 {
  width: 60px;
  height: 60px;
  background: var(--secondary);
  bottom: 20%;
  right: -15px;
  border-radius: 50%;
}

.sidebar-header {
  position: relative;
  z-index: 1;
  margin-bottom: 30px;
  padding-bottom: 20px;
  border-bottom: 1px solid rgba(255, 255, 255, 0.2);
  text-align: center;
}

.logo-container {
  position: relative;
  height: 120px;
  width: 120px;
  margin: 0 auto 15px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  overflow: hidden;
  padding: 10px;
}

.logo-container::before {
  content: '';
  position: absolute;
  top: -10px;
  left: -10px;
  right: -10px;
  bottom: -10px;
  background: linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.4) 45%, rgba(255, 255, 255, 0.6) 50%, rgba(255, 255, 255, 0.4) 55%, transparent 60%);
  z-index: 2;
  animation: shine 3s infinite;
}

@keyframes shine {
  0% { transform: translateX(-200%) rotate(45deg); }
  100% { transform: translateX(200%) rotate(45deg); }
}

.logo {
  max-height: 100%;
  max-width: 100%;
  object-fit: contain;
  position: relative;
  z-index: 1;
  filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.2));
}

.sidebar-header h2 {
  font-family: var(--title-font);
  font-size: 1.8rem;
  font-weight: 700;
  margin-bottom: 5px;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  background: linear-gradient(to right, #ffffff, #e0e0e0);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: var(--letter-spacing-title);
}

.tagline {
  color: var(--text) !important;
  opacity: 1 !important;
  font-size: 1rem; /* légèrement plus grand */
  margin-top: 8px;
}

.content {
  padding: 30px;
  position: relative;
  z-index: 1;
}

.content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 30% 20%, rgba(151, 200, 235, 0.08) 0%, transparent 25%),
    radial-gradient(circle at 70% 80%, rgba(255, 209, 102, 0.08) 0%, transparent 25%);
  z-index: -1;
  pointer-events: none;
}

/* Header Styles */
header {
  position: relative;
  background: var(--surface);
  backdrop-filter: blur(20px);
  border-radius: var(--radius);
  box-shadow: var(--shadow-light);
  color: var(--on-surface);
  padding: 2.5rem 3rem;
  margin-bottom: 2rem;
  overflow: hidden;
  z-index: 1;
  border-bottom: 1px solid var(--border);
  perspective: 800px;
}

header::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 100%;
  height: 100%;
  background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='rgba(255,255,255,0.1)' fill-rule='evenodd'/%3E%3C/svg%3E");
  opacity: 0.7;
  z-index: -1;
}

.header-content {
  position: relative;
  z-index: 2;
}

.header-decoration {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  overflow: hidden;
  line-height: 0;
  z-index: 1;
}

.wave-decoration {
  width: 100%;
  height: 60px;
  animation: wave-animation 18s linear infinite;
}

@keyframes wave-animation {
  0% {
    transform: translateX(-50%);
  }
  50% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-50%);
  }
}

.header-title {
  font-family: var(--title-font);
  font-size: 3rem;
  font-weight: 900;
  margin-bottom: 1rem;
  background: linear-gradient(to right, #fff, #cdf2ff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  text-shadow:
    1px 1px 0 rgba(255, 255, 255, 0.85),
    2px 2px 0 rgba(0, 0, 0, 0.75),
    3px 3px 0 rgba(0, 0, 0, 0.65),
    4px 4px 0 rgba(0, 0, 0, 0.55),
    5px 5px 0 rgba(0, 0, 0, 0.45),
    6px 6px 0 rgba(0, 0, 0, 0.35) !important;
  letter-spacing: var(--letter-spacing-title);
  line-height: 1.2;
  transition: text-shadow 1s ease;
  display: inline-block;
  transform-style: preserve-3d;
  transform: rotateX(20deg) translateZ(30px) !important;
}

@keyframes glow {
  0% {
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
  }
  100% {
    text-shadow: 0 0 20px var(--accent-glow), 0 0 30px var(--accent-glow);
  }
}

.header-title:hover {
  text-shadow: 0 0 30px var(--accent-glow), 0 0 50px var(--accent-glow);
}

.header-subtitle {
  font-family: var(--body-font);
  font-size: 1.2rem;
  font-weight: 400;
  margin-bottom: 2rem;
  max-width: 80%;
  opacity: 0.9;
  line-height: 1.6;
  letter-spacing: var(--letter-spacing-body);
}


.icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 2rem;
  height: 2rem;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.1);
  padding: 0.5rem;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}


.icon-mountain {
  color: var(--accent2);
  text-shadow: 0 0 10px rgba(var(--accent2-rgb), 0.7);
  animation: glow-mountain 3s infinite alternate;
}

.icon-water {
  color: var(--accent4);
  text-shadow: 0 0 10px rgba(var(--accent4-rgb), 0.7);
  animation: glow-water 3s infinite alternate;
}

.icon-beach {
  color: var(--accent3);
  text-shadow: 0 0 10px rgba(var(--accent3-rgb), 0.7);
  animation: glow-beach 3s infinite alternate;
}

.icon-city {
  color: var(--accent);
  text-shadow: 0 0 10px rgba(var(--accent-rgb), 0.7);
  animation: glow-city 3s infinite alternate;
}

@keyframes glow-mountain {
  0% {
    text-shadow: 0 0 5px rgba(var(--accent2-rgb), 0.5);
  }
  100% {
    text-shadow: 0 0 15px rgba(var(--accent2-rgb), 0.8), 0 0 20px rgba(var(--accent2-rgb), 0.4);
  }
}

@keyframes glow-water {
  0% {
    text-shadow: 0 0 5px rgba(var(--accent4-rgb), 0.5);
  }
  100% {
    text-shadow: 0 0 15px rgba(var(--accent4-rgb), 0.8), 0 0 20px rgba(var(--accent4-rgb), 0.4);
  }
}

@keyframes glow-beach {
  0% {
    text-shadow: 0 0 5px rgba(var(--accent3-rgb), 0.5);
  }
  100% {
    text-shadow: 0 0 15px rgba(var(--accent3-rgb), 0.8), 0 0 20px rgba(var(--accent3-rgb), 0.4);
  }
}

@keyframes glow-city {
  0% {
    text-shadow: 0 0 5px rgba(var(--accent-rgb), 0.5);
  }
  100% {
    text-shadow: 0 0 15px rgba(var(--accent-rgb), 0.8), 0 0 20px rgba(var(--accent-rgb), 0.4);
  }
}

@keyframes subtle-move {
  0% {
    background-position: 0% 0%;
  }
  100% {
    background-position: 100% 100%;
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 0.2;
    transform: scale(1);
  }
  50% {
    opacity: 0.3;
    transform: scale(1.1);
  }
}

/* Navigation */
nav {
  position: relative;
  z-index: 1;
}

nav h3 {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 15px;
  font-size: 1.1rem;
  opacity: 0.9;
  text-transform: uppercase;
  letter-spacing: 0.04em;
  font-weight: 600;
  font-family: var(--body-font);
}

.nav-list {
  list-style: none;
}

#fiches-list {
  list-style: none;
  margin-top: 20px;
}

#fiches-list li {
  padding: 12px 15px;
  margin-bottom: 12px;
  border-radius: var(--radius);
  background: var(--surface-glass);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 2px 20px rgba(0,0,0,0.4);
  color: var(--text);
  cursor: pointer;
  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
  font-weight: 500;
  position: relative;
  overflow: hidden;
}

#fiches-list li::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.05), transparent);
  transform: translateX(-100%);
  transition: transform 0.5s ease;
}

#fiches-list li:hover {
  background: var(--surface);
  border-color: var(--accent);
  box-shadow: 0 4px 30px rgba(0,0,0,0.5);
  transform: translateX(10px) scale(1.02);
  background-position: left;
}

#fiches-list li:hover::before {
  transform: translateX(100%);
}

#fiches-list li.active {
  background: var(--surface-alt);
  border-color: var(--primary);
  font-weight: 700;
  box-shadow: 0 5px 15px rgba(0,0,0,0.15);
}

/* Fiche Content */
#fiche-details {
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: var(--shadow-light);
  padding: 0;
  position: relative;
  z-index: 1;
  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
}

.fiche-title {
  font-family: var(--title-font);
  font-size: 2.2rem;
  font-weight: 900;
  position: relative;
  margin-bottom: 35px;
  padding-bottom: 15px;
  color: transparent;
  background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  position: relative;
  letter-spacing: var(--letter-spacing-title);
  /* Ajout de l'effet 3D */
  text-shadow:
    1px 1px 0 rgba(255, 255, 255, 0.85),
    2px 2px 0 rgba(0, 0, 0, 0.75),
    3px 3px 0 rgba(0, 0, 0, 0.65),
    4px 4px 0 rgba(0, 0, 0, 0.55),
    5px 5px 0 rgba(0, 0, 0, 0.45),
    6px 6px 0 rgba(0, 0, 0, 0.35);
}

.fiche-title::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(to right, var(--primary-light), transparent);
  /* Ajout de l'effet 3D */
  text-shadow:
    1px 1px 0 rgba(0, 0, 0, 0.85),
    2px 2px 0 rgba(0, 0, 0, 0.75),
    3px 3px 0 rgba(0, 0, 0, 0.65),
    4px 4px 0 rgba(0, 0, 0, 0.55),
    5px 5px 0 rgba(0, 0, 0, 0.45),
    6px 6px 0 rgba(0, 0, 0, 0.35);
}

.fiche-title::after {
  content: '';
  position: absolute;
  width: 80px;
  height: 5px;
  background: linear-gradient(to right, var(--accent), var(--accent2));
  bottom: -5px;
  left: 0;
  border-radius: 50px;
  transition: all 0.5s ease;
}

.fiche-title:hover::after {
  width: 120px;
  background: linear-gradient(to right, var(--accent), var(--secondary));
  box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.5);
}

.section-title {
  font-family: var(--title-font);
  font-size: 1.5rem;
  color: var(--text);
  font-weight: 600;
  margin: 35px 0 20px;
  padding-left: 15px;
  border-left: 4px solid;
  border-image: linear-gradient(to bottom, var(--accent), var(--accent2)) 1;
  display: flex;
  align-items: center;
  position: relative;
  letter-spacing: var(--letter-spacing-title);
  transition: all 0.4s ease;
}

.section-title::before {
  content: '';
  margin-right: 12px;
  width: 10px;
  height: 10px;
  background: linear-gradient(135deg, var(--accent), var(--accent2)) !important;
  border-radius: 50%;
  display: inline-block;
  transition: all 0.4s ease;
  /* Ajout de l'effet 3D */
  text-shadow:
    1px 1px 0 rgba(0, 0, 0, 0.85),
    2px 2px 0 rgba(0, 0, 0, 0.75),
    3px 3px 0 rgba(0, 0, 0, 0.65),
    4px 4px 0 rgba(0, 0, 0, 0.55),
    5px 5px 0 rgba(0, 0, 0, 0.45),
    6px 6px 0 rgba(0, 0, 0, 0.35);
}

.section-title:hover {
  transform: translateX(5px);
  color: var(--primary) !important;
}

.section-title:hover::before {
  transform: scale(1.5);
}

.section-content {
  margin-bottom: 30px;
  padding: 25px;
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: var(--shadow-light);
  position: relative;
  overflow: hidden;
  transition: var(--transition);
}

.section-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: linear-gradient(to right, var(--primary), var(--secondary), var(--accent));
  opacity: 0.7;
}

.section-content::after {
  content: '';
  position: absolute;
  bottom: -20px;
  right: -20px;
  width: 80px;
  height: 80px;
  background-size: contain;
  background-repeat: no-repeat;
  opacity: 0.08;
  z-index: 0;
  filter: saturate(1.2);
  transition: all 0.5s ease;
}

.section-content:hover::after {
  opacity: 0.15;
  transform: scale(1.2) rotate(10deg);
}

.section-content:nth-of-type(3n+1)::after {
  background-image: url('../images/mountain.svg');
}

.section-content:nth-of-type(3n+2)::after {
  background-image: url('../images/beach.svg');
}

.section-content:nth-of-type(3n+3)::after {
  background-image: url('../images/city.svg');
}

/* Typography */
.paragraphe {
  font-family: var(--body-font);
  font-size: 1.05rem;
  line-height: 1.7;
  margin-bottom: 15px;
  position: relative;
  z-index: 1;
  color: var(--text);
  transition: all 0.3s ease;
}

.paragraphe strong {
  color: var(--primary);
  font-weight: 600;
}

.remarque {
  font-family: var(--body-font);
  font-style: italic;
  background: linear-gradient(to right, #FFF8E1, #FFFCF2);
  padding: 20px;
  border-left: 4px solid var(--accent);
  margin: 20px 0;
  border-radius: 0 var(--radius) var(--radius) 0;
  position: relative;
  box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.remarque::before {
  content: '💡';
  position: absolute;
  left: -15px;
  top: 50%;
  transform: translateY(-50%);
  background: var(--white);
  width: 30px;
  height: 30px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  box-shadow: 0 3px 8px rgba(0,0,0,0.1);
  border: 1px solid rgba(0,0,0,0.05);
}

/* Lists */
ol {
  counter-reset: item;
  margin-left: 0;
  padding-left: 0;
}

ol > li {
  display: block;
  position: relative;
  margin-bottom: 15px;
  padding-left: 45px;
  line-height: 1.6;
}

ol > li:before {
  content: counter(item) "";
  counter-increment: item;
  position: absolute;
  left: 0;
  top: 0;
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  height: 30px;
  width: 30px;
  border-radius: 50%;
  color: white;
  text-align: center;
  line-height: 30px;
  font-weight: bold;
  box-shadow: 0 3px 8px rgba(45, 125, 210, 0.3);
}

ul.nested-list {
  list-style: none;
  margin: 15px 0 15px 10px;
  padding-left: 20px;
}

ul.nested-list li {
  position: relative;
  padding-left: 28px;
  margin-bottom: 12px;
  line-height: 1.5;
}

ul.nested-list li:before {
  content: "";
  position: absolute;
  left: 0;
  top: 8px;
  width: 12px;
  height: 12px;
  background: linear-gradient(135deg, var(--secondary), var(--primary-light));
  border-radius: 50%;
  box-shadow: 0 2px 5px rgba(69, 182, 156, 0.3);
}

/* Tables */
.table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  margin: 25px 0;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: none !important;
  background: var(--surface-glass) !important;
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255,255,255,0.1);
  position: relative;
  transition: all 0.4s ease;
}

.table::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: radial-gradient(circle at 10% 10%, rgba(45, 125, 210, 0.03) 0%, transparent 30%);
  pointer-events: none;
}

.table thead {
  background: rgba(255,255,255,0.08);
  border-bottom: 1px solid rgba(255,255,255,0.1);
  color: var(--white);
}

.table th {
  text-align: left;
  padding: 15px;
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.85rem;
  letter-spacing: 0.5px;
  border-bottom: 1px solid rgba(0,0,0,0.05);
  position: relative;
}

.table th:not(:last-child)::after {
  content: '';
  position: absolute;
  right: 0;
  top: 25%;
  height: 50%;
  width: 1px;
  background-color: rgba(255,255,255,0.2);
}

.table td {
  padding: 15px;
  border-bottom: 1px solid var(--light-gray);
}

.table tbody tr:nth-child(even) {
  background-color: rgba(45, 125, 210, 0.03);
}

.table tbody tr {
  transition: var(--transition);
}

.table tbody tr:hover {
  background-color: rgba(45, 125, 210, 0.08);
  transform: scale(1.01);
  box-shadow: none !important;
  position: relative;
  z-index: 1;
}

.table tfoot {
  background-color: var(--light);
}

/* Tableaux d'indicateurs */
.table--indicators {
  /* Ajoute des styles spécifiques si besoin */
}

/* Sous-tableaux */
.table--sub {
  box-shadow: 0 3px 10px rgba(0,0,0,0.08);
  margin-top: 15px;
}
.table--sub thead {
  background: linear-gradient(to right, var(--secondary), #38a58b);
}

/* Notes sous les tableaux */
.table-note {
  padding: 12px 15px;
  font-style: italic;
  color: #666;
  font-size: 0.9rem;
  border-top: 1px dashed var(--light-gray);
}

/* Sous-titres de tableaux */
.table-subtitle {
  margin: 30px 0 15px;
  font-weight: 600;
  color: var(--primary);
  font-size: 1.1rem;
  padding-left: 10px;
  border-left: 3px solid var(--accent);
  font-family: var(--title-font);
}

/* Buttons */
.btn {
  font-family: var(--body-font);
  padding: 12px 20px;
  border: none;
  background: var(--surface-glass);
  backdrop-filter: blur(10px);
  border-radius: var(--radius);
  cursor: pointer;
  font-weight: 600;
  transition: var(--transition);
  display: inline-flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  margin-right: 10px;
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 2px 20px rgba(0,0,0,0.4);
  position: relative;
  overflow: hidden;
  letter-spacing: 0.03em;
  font-size: 1rem;
}

.btn::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transform: translateX(-100%);
  transition: transform 0.5s ease;
}

.btn:hover {
  background: var(--surface);
  transform: translateY(-3px);
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
}

.btn:hover::before {
  transform: translateX(100%);
}

.btn:active {
  transform: translateY(-1px);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}

.btn i {
  margin-right: 8px;
  font-size: 1.1rem;
}

/* Variante secondaire */
.btn--secondary {
  background: var(--secondary);
  color: var(--on-surface);
}
.btn--secondary:hover {
  background: #3a9982;
}

/* Petit bouton */
.btn--small {
  padding: 6px 12px;
  font-size: 0.85rem;
  margin-top: 12px;
  border-radius: var(--border-radius-sm);
}
.btn--small:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Bouton filtre */
.btn--filter {
  background: var(--primary);
  color: var(--bg);
  border-radius: var(--border-radius);
  font-weight: 700;
  box-shadow: 0 2px 8px rgba(241,196,15,0.08);
  padding: 12px 20px;
}
.btn--filter:hover, .btn--filter:focus {
  background: var(--accent);
  color: #fff;
}

/* Bouton filtre secondaire */
.btn--filter-secondary {
  background: var(--surface-alt);
  color: var(--on-surface);
  border: 1.5px solid var(--primary-light);
  font-weight: 600;
}
.btn--filter-secondary:hover, .btn--filter-secondary:focus {
  background: var(--primary-light);
  color: var(--bg);
}

/* Tourism-Specific Elements */
.decorative-element {
  position: absolute;
  border-radius: 50%;
  filter: blur(60px);
  z-index: 0;
  pointer-events: none;
  opacity: 0.05;
}

.top-right {
  top: -100px;
  right: -100px;
  width: 300px;
  height: 300px;
  background: var(--accent);
  animation: pulse 15s infinite alternate;
}

.bottom-left {
  bottom: -150px;
  left: -100px;
  width: 350px;
  height: 350px;
  background: var(--secondary);
  animation: pulse 20s infinite alternate-reverse;
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 0.05; }
  50% { transform: scale(1.1); opacity: 0.08; }
  100% { transform: scale(1); opacity: 0.05; }
}

/* Glowing Accent Shapes */
.accent-shape {
  position: absolute;
  z-index: 0;
  opacity: 0.05;
  filter: blur(2px);
}

.accent-triangle {
  width: 0;
  height: 0;
  border-left: 30px solid transparent;
  border-right: 30px solid transparent;
  border-bottom: 50px solid var(--accent);
  top: 30%;
  right: 10%;
  transform: rotate(25deg);
  animation: float 20s infinite ease-in-out;
}

.accent-circle {
  width: 60px;
  height: 60px;
  border-radius: 50%;
  background: var(--secondary);
  bottom: 15%;
  left: 5%;
  animation: float 25s infinite ease-in-out reverse;
}

.accent-square {
  width: 40px;
  height: 40px;
  background: var(--primary);
  transform: rotate(45deg);
  top: 10%;
  left: 15%;
  animation: float 18s infinite ease-in-out;
}

@keyframes float {
  0% { transform: translateY(0) rotate(0); }
  50% { transform: translateY(-20px) rotate(5deg); }
  100% { transform: translateY(0) rotate(0); }
}

/* Responsive */
@media (max-width: var(--breakpoint-lg)) {
  /* [Desktop → Tablet] */
  .container {
    grid-template-columns: 250px 1fr;
  }
  .sidebar {
    padding: 20px;
  }
  #fiches-list {
    max-height: 400px;
  }
  #fiches-list li {
    padding: 8px 12px;
  }
  .header-right {
    display: none;
  }
  .decorative-element, .accent-shape {
    display: none;
  }
  .hero-section {
    grid-template-columns: 1fr;
  }
  .hero-image {
    min-height: 300px;
  }
  .hero-content {
    padding: 40px;
  }
  .charts-container {
    grid-template-columns: 1fr;
  }
}
@media (max-width: var(--breakpoint-md)) {
  /* [Tablet → Mobile] */
  .content,
  .section-content,
  .card,
  .card--feature,
  .card--stats,
  .card--quick-link,
  .filter-container,
  .indicator-section {
    padding: 10px !important;
    margin-bottom: 15px !important;
  }
  .container {
    grid-template-columns: 1fr !important;
  }
  .sidebar {
    display: none !important;
  }
  .fiche-title {
    font-size: 1.8rem;
  }
  .section-title {
    font-size: 1.3rem;
  }
  body {
    padding: 10px;
  }
  .decorative-element, .accent-shape {
    display: none;
  }
  .hero-title {
    font-size: 2.5rem;
  }
  .hero-subtitle {
    font-size: 1.2rem;
  }
  .hero-actions {
    flex-direction: column;
  }
  .stats-container, 
  .features-grid,
  .quick-links,
  .charts-container {
    grid-template-columns: 1fr !important;
    gap: 12px !important;
  }
  .chart-wrapper {
    height: 200px;
    padding: 10px !important;
  }
}

/* Animation & Visual Effects */
.fade-in {
  animation: fadeIn 0.5s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Hover Effects */
.section-content {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.section-content:hover {
  transform: translateY(-5px);
  box-shadow: 
    0 15px 25px rgba(0, 0, 0, 0.08),
    0 5px 10px rgba(45, 125, 210, 0.08);
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: var(--surface);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, var(--primary-light), var(--primary));
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, var(--primary), var(--primary-light));
}

/* Loading Indicator */
.loading-indicator {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 20px;
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.9rem;
  letter-spacing: 0.5px;
}

.loading-indicator i {
  margin-right: 10px;
  color: var(--accent);
}

/* Print Styles */
@media print {
  /* Set A4 size and margins */
  @page {
    size: A4 portrait;
    margin: 15mm 10mm;
  }
  /* Reset page margins and sizing */
  html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: auto;
  }
  /* Ensure container fills page without overflow */
  .container {
    display: block !important;
    width: auto !important;
    max-width: 100% !important;
    margin: 0 !important;
    padding: 0 !important;
    box-shadow: none !important;
  }
  .sidebar,
  .btn,
  .decorative-element,
  .header-right,
  .accent-shape {
    display: none;
  }

  .container {
    display: block;
    box-shadow: none;
  }

  .content {
    padding: 0;
  }

  #fiche-details {
    page-break-inside: avoid;
  }

  table {
    page-break-inside: avoid;
    box-shadow: none;
    border: 1px solid #ddd;
  }
  
  .section-content {
    box-shadow: none;
    border: 1px solid #eee;
    break-inside: avoid;
  }
  
  body {
    background-image: none;
  }
  
  .section-content::after,
  .section-content::before {
    display: none;
  }
}

/* Enhanced Formula Styling */
.formula {
  display: inline-block;
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: var(--shadow-light);
  padding: 0.2em 0.5em;
  font-family: var(--code-font);
  font-weight: 600;
  color: var(--primary-dark);
  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
  position: relative;
  overflow: hidden;
  animation: formula-glow 3s infinite alternate;
  transform-style: preserve-3d;
  perspective: 500px;
}

.formula:hover {
  transform: translateY(-5px) scale(1.05);
  box-shadow: 0 10px 25px rgba(45, 125, 210, 0.2), 0 0 20px rgba(70, 130, 240, 0.3);
}

.formula::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0) 70%);
  opacity: 0;
  transform: scale(0.5);
  transition: transform 0.5s, opacity 0.5s;
}

.formula:hover::after {
  opacity: 0.5;
  transform: scale(1);
  animation: formula-shine 1.5s ease-in-out;
}

@keyframes formula-shine {
  0% { transform: translateX(-100%) rotate(30deg); opacity: 0; }
  50% { opacity: 0.5; }
  100% { transform: translateX(100%) rotate(30deg); opacity: 0; }
}

@keyframes formula-glow {
  0% {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
  }
  100% {
    box-shadow: 0 4px 12px rgba(45, 125, 210, 0.2), 0 0 4px rgba(45, 125, 210, 0.1);
  }
}

/* Enhanced Fraction Styling */
.fraction {
  display: inline-flex;
  flex-direction: column;
  text-align: center;
  vertical-align: middle;
  margin: 0 0.3em;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.8), rgba(245, 250, 255, 0.9));
  border-radius: 8px;
  padding: 0.15em 0.4em;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(45, 125, 210, 0.15);
  transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  animation: fraction-pulse 4s infinite alternate;
  position: relative;
  transform-style: preserve-3d;
  perspective: 500px;
}

.fraction:hover {
  transform: scale(1.1) translateZ(10px);
  box-shadow: 0 10px 20px rgba(45, 125, 210, 0.25), 0 0 15px rgba(45, 125, 210, 0.1);
  background: linear-gradient(135deg, rgba(245, 250, 255, 0.95), rgba(235, 245, 255, 1));
}

.fraction .num,
.fraction .den {
  display: block;
  padding: 0.1em 0.3em;
  transition: all 0.3s ease;
  font-weight: 600;
  color: var(--primary-dark);
  position: relative;
  z-index: 2;
}

.fraction:hover .num {
  color: var(--accent);
  transform: translateY(-2px) translateZ(5px);
  text-shadow: 0 0 3px rgba(45, 125, 210, 0.2);
  animation: num-pulse 2s infinite alternate;
}

.fraction:hover .den {
  color: var(--primary);
  transform: translateY(2px) translateZ(5px);
  animation: den-pulse 2s infinite alternate;
}

@keyframes num-pulse {
  0% { text-shadow: 0 0 3px rgba(45, 125, 210, 0.2); }
  100% { text-shadow: 0 0 8px rgba(45, 125, 210, 0.4); }
}

@keyframes den-pulse {
  0% { text-shadow: 0 0 2px rgba(45, 125, 210, 0.1); }
  100% { text-shadow: 0 0 5px rgba(45, 125, 210, 0.3); }
}

.fraction .den {
  border-top: 2px solid rgba(45, 125, 210, 0.2);
  margin-top: -1px;
  position: relative;
}

.fraction .den::before {
  content: '';
  position: absolute;
  top: -2px;
  left: 0;
  width: 0;
  height: 2px;
  background: linear-gradient(to right, var(--accent), var(--primary));
  transition: width 0.5s ease;
  box-shadow: 0 0 8px rgba(45, 125, 210, 0.3);
}

.fraction:hover .den::before {
  width: 100%;
  animation: fraction-line-glow 2s infinite alternate;
}

@keyframes fraction-line-glow {
  0% { box-shadow: 0 0 3px rgba(45, 125, 210, 0.3); }
  100% { box-shadow: 0 0 8px rgba(45, 125, 210, 0.6); }
}

/* 3D effect for fractions */
.fraction::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0));
  transform: translateZ(-5px);
  border-radius: 8px;
  z-index: 1;
  transition: all 0.3s ease;
}

.fraction:hover::before {
  background: linear-gradient(135deg, rgba(200, 225, 255, 0.4), rgba(255, 255, 255, 0.1));
  transform: translateZ(-8px);
}

@keyframes fraction-pulse {
  0% {
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(45, 125, 210, 0.15);
  }
  100% {
    box-shadow: 0 3px 10px rgba(45, 125, 210, 0.2), 0 0 12px rgba(200, 220, 255, 0.6);
  }
}

/* MathJax/KaTeX Formulas Enhancement */
.katex-display {
  margin: 1em 0 !important;
  padding: 1.2em !important;
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: var(--shadow-light);
  overflow: hidden;
  position: relative;
  transition: all 0.4s ease;
  transform-style: preserve-3d;
  perspective: 1000px;
}

.katex-display:hover {
  box-shadow: 0 15px 30px rgba(45, 125, 210, 0.15), 0 0 20px rgba(70, 130, 240, 0.1);
  transform: translateY(-5px) rotateX(2deg);
}

.katex-display::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 4px;
  background: linear-gradient(to right, var(--primary-light), var(--accent));
  transition: width 0.5s ease;
  box-shadow: 0 0 10px rgba(45, 125, 210, 0.3);
}

.katex-display:hover::after {
  width: 100%;
  animation: katex-line-pulse 2s infinite alternate;
}

@keyframes katex-line-pulse {
  0% { opacity: 0.7; height: 4px; }
  100% { opacity: 1; height: 6px; }
}

.katex-display::before {
  content: '';
  position: absolute;
  top: 0;
  right: 0;
  width: 100px;
  height: 100px;
  background: radial-gradient(circle, rgba(200, 225, 255, 0.4) 0%, rgba(255, 255, 255, 0) 70%);
  opacity: 0;
  transition: all 0.5s ease;
  transform: translate(50%, -50%);
}

.katex-display:hover::before {
  opacity: 1;
  animation: katex-corner-glow 3s infinite alternate;
}

@keyframes katex-corner-glow {
  0% { transform: translate(50%, -50%) scale(0.8); opacity: 0.3; }
  100% { transform: translate(50%, -50%) scale(1.2); opacity: 0.8; }
}

.katex {
  font-size: 1.15em !important;
  transition: all 0.3s ease;
}

.katex-display:hover .katex {
  transform: scale(1.05) translateZ(5px);
  color: var(--primary-dark);
  text-shadow: 0 1px 2px rgba(45, 125, 210, 0.1);
}

/* Inline math */
.katex-inline {
  padding: 0.2em 0.5em;
  background: linear-gradient(120deg, rgba(245, 250, 255, 0.5), rgba(230, 240, 255, 0.3));
  border-radius: 6px;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.03);
}

.katex-inline:hover {
  background: linear-gradient(120deg, rgba(230, 240, 255, 0.7), rgba(210, 230, 255, 0.5));
  box-shadow: 0 2px 8px rgba(45, 125, 210, 0.1), 0 0 5px rgba(45, 125, 210, 0.05);
  transform: translateY(-1px);
}

.katex-inline::after {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.7) 0%, rgba(255, 255, 255, 0) 70%);
  opacity: 0;
  transform: scale(0.5);
  transition: transform 0.5s, opacity 0.5s;
}

.katex-inline:hover::after {
  opacity: 0.5;
  transform: scale(1);
  animation: katex-inline-shine 1.5s ease-in-out;
}

@keyframes katex-inline-shine {
  0% { transform: translateX(-100%) rotate(30deg); opacity: 0; }
  50% { opacity: 0.5; }
  100% { transform: translateX(100%) rotate(30deg); opacity: 0; }
}

/* Add multiplier styling for our fractions */
.fraction-mult {
  margin: 0 0.3em;
  font-weight: 500;
  color: var(--primary);
  transition: all 0.3s ease;
  position: relative;
}

.fraction:hover + .fraction-mult,
.fraction-mult:hover {
  color: var(--accent);
  text-shadow: 0 0 3px rgba(45, 125, 210, 0.2);
  transform: scale(1.1);
}

/* Fraction animation on page load */
@keyframes fraction-appear {
  0% { opacity: 0; transform: scale(0.8) translateY(10px); }
  70% { transform: scale(1.05) translateY(-2px); }
  100% { opacity: 1; transform: scale(1) translateY(0); }
}

.fraction.new-fraction {
  animation: fraction-appear 0.6s forwards;
}

/* Style pour le suffixe de la formule */
.formula-suffix {
  font-style: italic;
  opacity: 0.8;
  font-weight: normal;
  color: var(--text);
  padding-left: 0.3em;
  font-size: 0.95em;
  transition: all 0.3s ease;
}

.formula:hover .formula-suffix {
  opacity: 0.9;
}

/* Animations avancées */
@keyframes float-in {
  0% { opacity: 0; transform: translateY(30px); }
  100% { opacity: 1; transform: translateY(0); }
}

@keyframes scale-in {
  0% { opacity: 0; transform: scale(0.8); }
  100% { opacity: 1; transform: scale(1); }
}

@keyframes slide-in-right {
  0% { opacity: 0; transform: translateX(30px); }
  100% { opacity: 1; transform: translateX(0); }
}

@keyframes slide-in-left {
  0% { opacity: 0; transform: translateX(-30px); }
  100% { opacity: 1; transform: translateX(0); }
}

@keyframes rotate-in {
  0% { opacity: 0; transform: rotate(-5deg) scale(0.9); }
  100% { opacity: 1; transform: rotate(0) scale(1); }
}

@keyframes bounce-in {
  0% { opacity: 0; transform: scale(0.3); }
  50% { opacity: 1; transform: scale(1.05); }
  70% { transform: scale(0.9); }
  100% { transform: scale(1); }
}

@keyframes background-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

/* Classes d'animation appliquées dynamiquement */
.animate-float-in {
  animation: float-in var(--animation-duration-long) var(--animation-entrance) forwards;
}

.animate-scale-in {
  animation: scale-in var(--animation-duration-long) var(--animation-entrance) forwards;
}

.animate-slide-in-right {
  animation: slide-in-right var(--animation-duration-long) var(--animation-entrance) forwards;
}

.animate-slide-in-left {
  animation: slide-in-left var(--animation-duration-long) var(--animation-entrance) forwards;
}

.animate-rotate-in {
  animation: rotate-in var(--animation-duration-long) var(--animation-entrance) forwards;
}

.animate-bounce-in {
  animation: bounce-in var(--animation-duration-long) var(--animation-entrance) forwards;
}

/* Animation pour la sidebar */
.sidebar:hover {
  transform: translateX(5px);
}

/* Animation pour header */
.header-title:hover {
  text-shadow: 0 0 30px var(--accent-glow), 0 0 50px var(--accent-glow);
}

/* Animation pour les section-content */
.section-content:hover {
  transform: translateY(-5px);
  box-shadow: 
    0 15px 25px rgba(0, 0, 0, 0.08),
    0 5px 10px rgba(45, 125, 210, 0.08);
}

/* Animation pour la liste des fiches */
#fiches-list li:hover {
  transform: translateX(10px) scale(1.02);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

/* Animation pulse pour les boutons */
.btn::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 5px;
  height: 5px;
  background: rgba(255, 255, 255, 0.8);
  opacity: 0;
  border-radius: 100%;
  transform: scale(1, 1) translate(-50%, -50%);
  transform-origin: 50% 50%;
}

.btn:hover::after {
  animation: ripple 0.8s ease-out;
}

@keyframes ripple {
  0% {
    transform: scale(0, 0) translate(-50%, -50%);
    opacity: 0.5;
  }
  100% {
    transform: scale(20, 20) translate(-50%, -50%);
    opacity: 0;
  }
}

/* Animation de transition entre les fiches */
#fiche-details {
  transition: all 0.5s cubic-bezier(0.19, 1, 0.22, 1);
}

/* Animation pour les tableaux */
table:hover {
  transform: scale(1.01) translateY(-5px);
  box-shadow: 0 15px 30px var(--shadow);
}

tbody tr {
  transition: all 0.3s ease-out;
}

tbody tr:hover {
  transform: scale(1.02);
  z-index: 5;
}


/* Animation pour les titres de section */
.section-title:hover {
  transform: translateX(5px);
  color: var(--primary) !important;
}

.section-title::before {
  transition: all 0.4s ease;
}

.section-title:hover::before {
  transform: scale(1.5);
}

/* Animation de fond brillant pour éléments spéciaux */
.shine-effect {
  position: relative;
  overflow: hidden;
}

.shine-effect::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(
    to right,
    rgba(255, 255, 255, 0) 0%,
    rgba(255, 255, 255, 0.4) 50%,
    rgba(255, 255, 255, 0) 100%
  );
  transform: skewX(-25deg);
  transition: all 0s;
}

.shine-effect:hover::before {
  animation: shine 1.5s infinite;
}

@keyframes shine {
  100% {
    left: 150%;
  }
}

.fiche-title {
  position: relative;
}

.fiche-title::after {
  transition: all 0.5s ease;
}

.fiche-title:hover::after {
  width: 120px;
  background: linear-gradient(to right, var(--accent), var(--secondary));
  box-shadow: 0 0 10px rgba(var(--accent-rgb), 0.5);
}

/* Animation background des éléments géométriques */
.sidebar:hover .geometric-shape {
  animation: float 3s ease-in-out infinite alternate;
  opacity: 0.2;
}

/* Animation de chargement entre les fiches */
@keyframes content-loading {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

.content-loading {
  position: relative;
  overflow: hidden;
}

.content-loading::before {
  content: '';
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: linear-gradient(45deg, var(--accent), var(--secondary), var(--accent2));
  background-size: 300% 300%;
  animation: rainbow 0.8s ease-out forwards;
  z-index: 10;
}
@keyframes rainbow {
  0% { background-position: 0% 50%; opacity: 1; }
  70% { background-position: 100% 50%; opacity: 1; }
  100% { background-position: 100% 50%; opacity: 0; }
}

/* Animation des paragraphes au survol */
.paragraphe:hover {
  transform: translateX(5px);
  color: var(--primary-dark);
}

/* Effet de vague au survol */
.hover-ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.4);
  transform: scale(0);
  animation: ripple-effect 0.8s linear;
  pointer-events: none;
  z-index: 0;
}

@keyframes ripple-effect {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

/* Style pour les éléments cliquables avec ripple */
.btn, #fiches-list li, .section-title {
  position: relative;
  overflow: hidden;
}

/* Style pour les formules pour éviter le débordement avec les animations */
.formula {
  max-width: 100%;
  overflow: hidden;
  white-space: normal;
  word-wrap: break-word;
}

/* Style pour l'effet de chargement */
.content-loading::before {
  border-radius: var(--radius);
}

/* Style pour améliorer les performances des animations */
.container, .sidebar, .content, .section-content, .header-title, 
.fiche-title, .badge, .btn, #fiches-list li {
  will-change: transform, opacity;
}

/* Style pour l'animation des liens */
a {
  position: relative;
  text-decoration: none;
  color: var(--primary);
  transition: all 0.3s ease;
}

a::after {
  content: '';
  position: absolute;
  width: 0;
  height: 2px;
  bottom: -2px;
  left: 0;
  background: linear-gradient(to right, var(--primary), var(--accent));
  transition: width 0.3s ease;
}

a:hover {
  color: var(--accent);
}

a:hover::after {
  width: 100%;
}

/* Amélioration de l'apparence des sections */
.section-content {
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

/* Animation de préchargement */
.loading-indicator {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 30px;
  background: linear-gradient(120deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.2));
  border-radius: var(--radius);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
  animation: pulse 2s infinite alternate;
}

/* Assurer la fluidité des animations sur les appareils à écran tactile */
@media (hover: hover) {
  .btn:hover, .badge:hover, #fiches-list li:hover {
    transform: translateY(-5px);
  }
}

/* Animation des info-bulles */
[data-tooltip] {
  position: relative;
}

[data-tooltip]:before {
  content: attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%) translateY(10px);
  padding: 5px 10px;
  background: var(--dark);
  color: var(--white);
  border-radius: var(--border-radius-sm);
  font-size: 0.8rem;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 10;
  white-space: nowrap;
  pointer-events: none;
}

[data-tooltip]:hover:before {
  transform: translateX(-50%) translateY(0);
  opacity: 1;
  visibility: visible;
}

/* Glass style for formulas and KaTeX */
.katex-display, .katex-inline, .formula {
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  color: var(--text);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: var(--shadow-light);
}

.formula .fraction {
  background: rgba(255,255,255,0.9);
  color: var(--surface);
  border: none;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  border-radius: var(--radius);
}

.formula .num, .formula .den {
  color: var(--surface);
}

.fraction-mult {
  color: var(--accent);
  font-weight: 700;
}

.formula-suffix {
  color: var(--text);
  opacity: 0.9;
}

/* Glass style for tables */
table {
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: var(--shadow-light);
}

table thead {
  background: rgba(255,255,255,0.08);
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

table tbody tr, table tfoot {
  border-bottom: 1px solid rgba(255,255,255,0.1);
}

/* Glass style for block quotes and remarks */
blockquote, .remarque {
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border-left: 4px solid var(--accent2);
  padding: 16px;
  margin: 24px 0;
  color: var(--text);
  border-radius: var(--radius);
  box-shadow: var(--shadow-light);
}

/* Citation inline */
q {
  background: var(--surface-glass);
  padding: 2px 6px;
  border-radius: var(--radius);
}

/* Improve formula readability on glass background */
.formula,
.katex-display,
.katex-inline {
  color: var(--text);
}

/* Ensure fraction parts and multiplier are visible */
.formula .fraction .num,
.formula .fraction .den,
.formula .fraction-mult {
  color: var(--text);
}

/* KaTeX inline and display colors */
.katex,
.katex-display .katex {
  color: var(--text);
}

/* Adjust formula suffix color */
.formula-suffix {
  color: var(--text);
  opacity: 0.8;
}

/* Glass style for fractions */
.fraction,
.fraction.new-fraction {
  background: var(--surface-glass);
  backdrop-filter: blur(15px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: var(--radius);
  box-shadow: var(--shadow-light);
}

/* Ensure multiplier is visible */
.fraction-mult {
  background: transparent;
  color: var(--text);
}

/* Fraction numbers contrast */
.fraction .num,
.fraction .den {
  color: var(--text);
}

/* Adjust inner den ::before line color */
.fraction .den::before {
  background: var(--accent);
}

/* Highlight fraction container for readability */
.fraction {
  background: rgba(255, 255, 255, 0.24) !important;
  color: var(--surface) !important;
  border-color: rgba(255, 255, 255, 0.4) !important;
}
.fraction .num,
.fraction .den {
  color: var(--surface) !important;
}
.fraction-mult {
  color: var(--accent) !important;
  font-weight: 700;
}

/* Ensure formula container text is visible */
.formula {
  color: var(--text) !important;
}

/* Increase backdrop brightness for formula container */
.formula,
.katex-display,
.katex-inline {
  background: rgba(255, 255, 255, 0.08) !important;
}

/* Readable table headers */
table thead th {
  color: var(--text);
  background: rgba(255,255,255,0.12);
  border-right: 1px solid rgba(255,255,255,0.2);
  font-weight: 600;
  padding: 12px 16px;
}
table thead th:last-child {
  border-right: none;
}

/* Adjust header row container for contrast */
thead {
  background: transparent !important;
  border-bottom: 1px solid rgba(255,255,255,0.2) !important;
}

/* Option classe générique pour tout texte gravé */
.engraved {
  color: var(--text) !important;
  text-shadow:
    -2px -2px 2px rgba(255, 255, 255, 0.4),
    2px 2px 3px rgba(0, 0, 0, 0.9),
    4px 4px 4px rgba(0, 0, 0, 0.7),
    6px 6px 5px rgba(0, 0, 0, 0.5),
    8px 8px 6px rgba(0, 0, 0, 0.4),
    10px 10px 8px rgba(0, 0, 0, 0.3);
  /* Activez cette classe sur les éléments souhaités */
}

/* Subtle hover effect for sub-parts text */
.paragraphe,
ul.nested-list li,
ol > li {
  transition: color 0.3s ease, text-shadow 0.3s ease, transform 0.3s ease;
}
.paragraphe:hover,
ul.nested-list li:hover,
ol > li:hover {
  color: var(--accent2);
  text-shadow: 0 2px 4px rgba(231, 76, 60, 0.5);
  transform: translateX(4px);
}

/* 3D floating shapes animation */
.accent-shape, .decorative-element {
  perspective: 800px;
  transform-style: preserve-3d;
  animation: float3d 25s ease-in-out infinite alternate;
}

@keyframes float3d {
  0% {
    transform: translate3d(0, 0, -100px) rotateX(0deg) rotateY(0deg);
  }
  50% {
    transform: translate3d(30px, 30px, 100px) rotateX(180deg) rotateY(180deg);
  }
  100% {
    transform: translate3d(-30px, -30px, -100px) rotateX(360deg) rotateY(360deg);
  }
}

/* Ajout des styles pour la page d'accueil */
.hero-section {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 40px;
    max-width: 1400px;
    margin: 0 auto 40px;
    background: var(--surface);
    border-radius: var(--radius);
    overflow: hidden;
    box-shadow: var(--shadow-light);
    position: relative;
    z-index: 2;
}

.hero-content {
    padding: 60px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 1;
}

.hero-title {
    font-family: var(--title-font);
    font-size: 3.5rem;
    font-weight: 900;
    color: var(--primary);
    margin-bottom: 20px;
    letter-spacing: var(--letter-spacing-title);
    line-height: 1.1;
}

.hero-subtitle {
    font-size: 1.5rem;
    color: var(--on-surface);
    margin-bottom: 40px;
    opacity: 0.9;
}

.hero-actions {
    display: flex;
    gap: 20px;
    margin-top: 10px;
}

.hero-btn {
    padding: 12px 24px;
    font-size: 1.1rem;
}

.hero-image {
    position: relative;
    height: 100%;
    min-height: 500px;
    overflow: hidden;
}

.hero-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform 0.8s ease;
}

.hero-image:hover img {
    transform: scale(1.05);
}

.hero-image::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, var(--surface) 0%, transparent 100%);
    pointer-events: none;
}

/* Style pour le conteneur principal de la page d'accueil */
.home-container {
    grid-template-columns: 1fr;
    margin-top: 20px;
    position: relative;
    z-index: 0;
}

/* Styles pour les sections de la page d'accueil */
.home-section {
    margin-bottom: 40px;
    padding: 30px;
    background: var(--surface);
    border-radius: var(--radius);
    box-shadow: var(--shadow-light);
    position: relative;
    z-index: 2;
}

/* Grille de fonctionnalités */
.features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 30px;
}

.feature-icon {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 20px;
}

/* Conteneur de statistiques */
.stats-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.stats-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 15px;
}

.stats-header h3 {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--on-surface);
}

.stats-period {
    font-size: 0.9rem;
    color: var(--text);
    opacity: 0.7;
}

.stats-value {
    font-size: 2.5rem;
    font-weight: 800;
    font-family: var(--title-font);
    color: var(--primary);
    margin-bottom: 10px;
}

.stats-change {
    display: inline-block;
    padding: 5px 10px;
    border-radius: 20px;
    font-size: 0.9rem;
    font-weight: 500;
}

.stats-change.positive {
    background-color: rgba(46, 204, 113, 0.2);
    color: #2ecc71;
}

.stats-change.negative {
    background-color: rgba(231, 76, 60, 0.2);
    color: #e74c3c;
}

/* Conteneur de graphiques */
.charts-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 30px;
    margin-top: 30px;
}

.chart-wrapper {
    background: var(--surface-alt);
    border-radius: var(--border-radius);
    padding: 20px;
    height: 300px;
    border: 1px solid var(--border);
}

.chart-wrapper h3 {
    font-size: 1.2rem;
    margin-bottom: 15px;
    color: var(--on-surface);
    text-align: center;
}

/* Liens rapides */
.quick-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.quick-link-icon {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 20px;
}

/* Responsive */
@media (max-width: var(--breakpoint-lg)) {
    .hero-section {
        grid-template-columns: 1fr;
    }
    
    .hero-image {
        min-height: 300px;
    }
    
    .hero-content {
        padding: 40px;
    }
    
    .charts-container {
        grid-template-columns: 1fr;
    }
}

@media (max-width: var(--breakpoint-md)) {
    .hero-title {
        font-size: 2.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.2rem;
    }
    
    .hero-actions {
        flex-direction: column;
    }
    
    .stats-container, 
    .features-grid,
    .quick-links,
    .charts-container {
        grid-template-columns: 1fr !important;
        gap: 12px !important;
    }
    
    .chart-wrapper {
        height: 200px;
        padding: 10px !important;
    }
}

/* Styles pour les petits boutons dans les cartes */
.btn-small {
    display: inline-block;
    padding: 6px 12px;
    margin-top: 12px;
    font-size: 0.85rem;
    background-color: var(--primary);
    color: var(--bg);
    border-radius: var(--border-radius-sm);
    text-decoration: none;
    transition: all 0.3s;
    font-weight: 600;
}

.btn-small:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Styles pour les icônes dans les stats-card */
.stats-icon {
    font-size: 2.5rem;
    color: var(--primary);
    margin-bottom: 15px;
    display: block;
}

/* Styles pour la section technology-info */
.technology-info {
    margin-top: 30px;
    padding: 20px;
    background: var(--surface-alt);
    border-radius: var(--border-radius);
    border: 1px solid var(--border);
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.tech-logo {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
}

.tech-logo img {
    margin-right: 10px;
}

.tech-logo span {
    font-size: 1.2rem;
    font-weight: 600;
    color: var(--on-surface);
}

/* Les styles pour le footer ont été supprimés car plus utilisés */

/* Styles pour les tables d'indicateurs (thème fiches) */
.indicator-section {
    margin-bottom: 3rem;
    background: var(--surface-glass);
    backdrop-filter: blur(15px);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 1.5rem;
    box-shadow: var(--shadow-light);
    position: relative;
    overflow: hidden;
}
.indicator-section::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: linear-gradient(to right, var(--primary), var(--secondary), var(--accent));
    opacity: 0.7;
}
.indicator-section h2 {
    font-family: var(--title-font);
    font-size: 1.5rem;
    color: var(--on-surface);
    font-weight: 600;
    margin: 35px 0 20px;
    padding-left: 15px;
    border-left: 4px solid var(--accent);
    display: inline-flex;
    align-items: center;
    position: relative;
    letter-spacing: var(--letter-spacing-title);
    transition: all 0.4s ease;
}
.indicator-section h2::before {
    content: '';
    margin-right: 12px;
    width: 10px;
    height: 10px;
    background: linear-gradient(135deg, var(--accent), var(--secondary)) !important;
    border-radius: 50%;
    display: inline-block;
    transition: all 0.4s ease;
    text-shadow:
        1px 1px 0 rgba(0,0,0,0.85),
        2px 2px 0 rgba(0,0,0,0.75),
        3px 3px 0 rgba(0,0,0,0.65),
        4px 4px 0 rgba(0,0,0,0.55),
        5px 5px 0 rgba(0,0,0,0.45),
        6px 6px 0 rgba(0,0,0,0.35);
}
.indicator-section h2:hover {
    transform: translateX(5px);
    color: var(--primary) !important;
}
.indicator-section h2:hover::before {
    transform: scale(1.5);
}

/* ==========================
   Thème fiches pour tables
   ========================== */

/* Container du panneau de filtrage en glassmorphism */
.filter-container {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  padding: 2rem 2.5rem;
  background: linear-gradient(120deg, var(--surface-glass) 80%, var(--surface-alt) 100%);
  border: 1.5px solid var(--primary);
  border-radius: var(--radius);
  box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.10);
  position: relative;
  overflow: hidden;
  margin-bottom: 1.5rem;
}
.filter-container::before {
  content: '';
  position: absolute;
  top: -40px;
  right: -40px;
  width: 120px;
  height: 120px;
  background: radial-gradient(circle, var(--primary-light) 0%, transparent 80%);
  opacity: 0.18;
  z-index: 0;
}
.filter-row {
  display: flex;
  gap: 2rem;
  flex-wrap: wrap;
  z-index: 1;
}
.filter-group {
  flex: 1 1 180px;
  min-width: 180px;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}
.filter-group label {
  color: var(--primary);
  font-weight: 600;
  font-size: 1.05rem;
  margin-bottom: 0.2rem;
  letter-spacing: 0.01em;
}
.filter-select {
  width: 100%;
  padding: 0.85rem 1.2rem;
  background: var(--surface-alt);
  border: 1.5px solid var(--primary-light);
  border-radius: var(--border-radius);
  color: var(--on-surface);
  font-size: 1rem;
  font-weight: 500;
  box-shadow: 0 2px 8px rgba(241,196,15,0.04);
  transition: border 0.2s, box-shadow 0.2s;
}
.filter-select:focus {
  outline: none;
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(155, 89, 182, 0.15);
}
.filter-actions {
  display: flex;
  gap: 1.2rem;
  margin-top: 1.2rem;
  z-index: 1;
}

.sidebar .nav-list {
  list-style: none;
  padding: 0;
  margin: 30px 0 0 0;
}

.sidebar .nav-list li {
  margin-bottom: 14px;
}

.sidebar .nav-list a {
  display: block;
  width: 100%;
  padding: 16px 18px;
  border-radius: 18px;
  background: var(--surface-glass);
  border: 1.5px solid rgba(255,255,255,0.18);
  box-shadow: 0 2px 20px rgba(0,0,0,0.4);
  color: var(--text);
  font-weight: 500;
  font-size: 1.05rem;
  text-decoration: none;
  position: relative;
  overflow: hidden;
  transition: all 0.4s cubic-bezier(0.19, 1, 0.22, 1);
}

.sidebar .nav-list a i {
  font-size: 1.1em;
  opacity: 0.85;
  min-width: 22px;
  text-align: center;
}

.sidebar .nav-list a.active, .sidebar .nav-list a:focus, .sidebar .nav-list a:hover {
  border-color: var(--accent);
  background: linear-gradient(90deg, var(--primary) 0%, var(--accent) 100%);
  color: #222;
  box-shadow: 0 2px 12px 0 rgba(241,196,15,0.10);
  text-shadow: 0 1px 6px rgba(255,255,255,0.12);
  border: 1.5px solid rgba(255,255,255,0.18);
}

.sidebar .nav-list a.active i, .sidebar .nav-list a:focus i, .sidebar .nav-list a:hover i {
  color: var(--accent2);
  opacity: 1;
}

.sidebar .nav-list a:not(.active):hover {
  color: var(--primary);
}

.sidebar .nav-list li:last-child {
  margin-bottom: 0;
}

.sidebar h3 {
  margin-top: 30px;
  margin-bottom: 18px;
  font-size: 1.2rem;
  color: var(--primary);
  letter-spacing: 0.01em;
  display: flex;
  align-items: center;
  gap: 8px;
}

/* =============================
   8. Composants (cards, badges, etc.) - factorisation
   ============================= */
.card {
  background: var(--surface-alt);
  border-radius: var(--border-radius);
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  overflow: hidden;
  position: relative;
}

/* Variante feature */
.card--feature {
  padding: 30px;
}
.card--feature:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  border-color: var(--primary);
}

.feature-icon {
  font-size: 2.5rem;
  color: var(--primary);
  margin-bottom: 20px;
}
.card--feature h3 {
  font-size: 1.4rem;
  margin-bottom: 10px;
  color: var(--on-surface);
}
.card--feature p {
  color: var(--text);
  opacity: 0.8;
  line-height: 1.6;
}

/* Variante stats */
.card--stats {
  padding: 20px;
}
.card--stats:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
}

.stats-header {
  display: flex;
  justify-content: space-between;
  align-items: baseline;
  margin-bottom: 15px;
}
.stats-header h3 {
  font-size: 1.2rem;
  font-weight: 600;
  color: var(--on-surface);
}
.stats-period {
  font-size: 0.9rem;
  color: var(--text);
  opacity: 0.7;
}
.stats-value {
  font-size: 2.5rem;
  font-weight: 800;
  font-family: var(--title-font);
  color: var(--primary);
  margin-bottom: 10px;
}
.stats-change {
  display: inline-block;
  padding: 5px 10px;
  border-radius: 20px;
  font-size: 0.9rem;
  font-weight: 500;
}
.stats-change.positive {
  background-color: rgba(46, 204, 113, 0.2);
  color: #2ecc71;
}
.stats-change.negative {
  background-color: rgba(231, 76, 60, 0.2);
  color: #e74c3c;
}

/* Variante quick-link */
.card--quick-link {
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  padding: 30px 20px;
  text-decoration: none;
  color: var(--text);
}
.card--quick-link:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
  border-color: var(--primary);
  background-color: var(--surface);
}
.quick-link-icon {
  font-size: 2.5rem;
  color: var(--primary);
  margin-bottom: 20px;
}
.card--quick-link h3 {
  font-size: 1.4rem;
  margin-bottom: 10px;
  color: var(--on-surface);
}
.card--quick-link p {
  color: var(--text);
  opacity: 0.8;
}

/* =============================
   8.2 Badges (factorisé)
   ============================= */
.badge {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1.25rem;
  background: var(--surface-glass);
  backdrop-filter: blur(10px);
  border-radius: var(--radius);
  border: 1px solid rgba(255,255,255,0.1);
  box-shadow: 0 2px 20px rgba(0,0,0,0.4);
  cursor: pointer;
  position: relative;
  overflow: hidden;
  font-family: var(--body-font);
  font-weight: 500;
  letter-spacing: 0.02em;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  transition: all 0.3s;
}
.badge:hover {
  transform: translateY(-8px);
  box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2);
}
.badge i {
  font-size: 1.2rem;
  position: relative;
  z-index: 1;
  transition: all 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
}
.badge:hover i {
  transform: scale(1.2);
}
.badge--mountain {
  background: linear-gradient(45deg, rgba(var(--accent2-rgb), 0.1), rgba(var(--accent2-rgb), 0.2));
  border: 1px solid rgba(var(--accent2-rgb), 0.3);
}
.badge--mountain:hover {
  background: linear-gradient(45deg, rgba(var(--accent2-rgb), 0.2), rgba(var(--accent2-rgb), 0.3));
}
.badge--nature {
  background: linear-gradient(45deg, rgba(var(--accent4-rgb), 0.1), rgba(var(--accent4-rgb), 0.2));
  border: 1px solid rgba(var(--accent4-rgb), 0.3);
}
.badge--nature:hover {
  background: linear-gradient(45deg, rgba(var(--accent4-rgb), 0.2), rgba(var(--accent4-rgb), 0.3));
}
.badge--beach {
  background: linear-gradient(45deg, rgba(var(--accent3-rgb), 0.1), rgba(var(--accent3-rgb), 0.2));
  border: 1px solid rgba(var(--accent3-rgb), 0.3);
}
.badge--beach:hover {
  background: linear-gradient(45deg, rgba(var(--accent3-rgb), 0.2), rgba(var(--accent3-rgb), 0.3));
}
.badge--city {
  background: linear-gradient(45deg, rgba(var(--accent-rgb), 0.1), rgba(var(--accent-rgb), 0.2));
  border: 1px solid rgba(var(--accent-rgb), 0.3);
}
.badge--city:hover {
  background: linear-gradient(45deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.3));
}
.badge::before {
  content: '';
  position: absolute;
  top: 0; left: 0; width: 100%; height: 100%;
  background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transform: translateX(-100%);
  transition: transform 0.6s ease;
}
.badge:hover::before {
  transform: translateX(100%);
}

/* Focus visible pour l'accessibilité */
.btn:focus-visible,
.nav-link:focus-visible,
.sidebar .nav-list a:focus-visible,
.filter-select:focus-visible,
input:focus-visible,
textarea:focus-visible,
select:focus-visible {
  outline: 2.5px solid var(--accent);
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(var(--accent-rgb), 0.18);
  z-index: 10;
  transition: outline 0.2s, box-shadow 0.2s;
}

/* Supprime le contour natif uniquement si focus-visible est géré */
.btn,
.nav-link,
.sidebar .nav-list a,
.filter-select,
input,
textarea,
select {
  outline: none;
}

/* Masquage renforcé de la sidebar sur mobile */
@media (max-width: var(--breakpoint-md)) {
  aside.sidebar {
    display: none !important;
    opacity: 0 !important;
    pointer-events: none !important;
    width: 0 !important;
    min-width: 0 !important;
    max-width: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
  }
}

.table td,
.table th {
  font-family: 'Source Code Pro', 'Fira Mono', 'Consolas', 'Menlo', monospace;
  letter-spacing: -0.5px;
}

/* --- KPI Digital Art - Créativité & Couleurs --- */
.kpi-row {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 2.5rem;
  margin-bottom: 2.5rem;
  position: relative;
  z-index: 1;
}
.kpi-row .kpi-card.kpi-main {
  margin: 0;
}
.kpi-card.kpi-main {
  background: linear-gradient(120deg, #ffecd2 0%, #fcb69f 40%, #a1c4fd 70%, #c2e9fb 100%);
  background-size: 300% 300%;
  border-radius: 2.2rem;
  box-shadow: 0 8px 32px 0 rgba(0,0,0,0.18), 0 0 0 6px #fcb69f44;
  padding: 2.5rem 2.8rem 2.2rem 2.8rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  max-width: 370px;
  min-width: 260px;
  animation: kpiGradientMove 8s ease-in-out infinite alternate, kpiFadeIn 0.8s cubic-bezier(.4,1.4,.6,1) 1;
  position: relative;
  overflow: visible;
  border: 2.5px solid #a1c4fd;
  transition: box-shadow 0.4s, transform 0.3s, border 0.3s;
}
@keyframes kpiGradientMove {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}
.kpi-card.kpi-main::before {
  content: '';
  position: absolute;
  top: 50%; left: 50%;
  width: 120%; height: 120%;
  background: radial-gradient(circle, #fcb69f55 0%, #a1c4fd33 60%, transparent 100%);
  border-radius: 50%;
  z-index: 0;
  transform: translate(-50%, -50%) scale(1);
  filter: blur(24px);
  pointer-events: none;
  opacity: 0.7;
}
.kpi-card.kpi-main:hover {
  box-shadow: 0 0 40px 10px #a1c4fdcc, 0 0 0 8px #fcb69faa, 0 8px 32px 0 rgba(0,0,0,0.18);
  border: 2.5px solid #ff6a88;
  transform: rotateZ(-1.5deg) scale(1.035);
}
.kpi-card .kpi-icon {
  font-size: 3.2rem;
  color: #ff6a88;
  margin-bottom: 1.1rem;
  filter: drop-shadow(0 2px 12px #ff6a8844);
  z-index: 1;
  transition: filter 0.3s, color 0.3s;
  animation: kpiIconFun 2.2s cubic-bezier(.4,1.4,.6,1) infinite alternate;
}
@keyframes kpiIconFun {
  0% { transform: scale(1) rotate(-6deg); color: #ff6a88; }
  100% { transform: scale(1.12) rotate(6deg); color: #36d1c4; }
}
.kpi-card.kpi-main:hover .kpi-icon {
  filter: drop-shadow(0 0 24px #36d1c4cc) brightness(1.2);
  color: #36d1c4;
}
.kpi-card .kpi-value {
  font-size: 3.1rem;
  font-weight: 900;
  color: #181818;
  letter-spacing: 1px;
  margin-bottom: 0.2rem;
  z-index: 1;
  text-shadow: 0 2px 8px #fff7, 0 1px 0 #fcb69f33, 0 0 18px #a1c4fd55, 0 0 2px #fff, 0 0 8px #0002;
  position: relative;
  background: none;
  -webkit-background-clip: initial;
  -webkit-text-fill-color: initial;
  background-clip: initial;
  transition: text-shadow 0.3s, background 0.3s;
}
.kpi-card .kpi-value::after {
  content: '';
  position: absolute;
  left: -10%; top: 0;
  width: 120%; height: 100%;
  background: linear-gradient(120deg, transparent 60%, #fff 80%, transparent 100%);
  opacity: 0.4;
  pointer-events: none;
  filter: blur(2px);
  animation: shimmer 2.5s infinite linear;
}
@keyframes shimmer {
  0% { left: -120%; opacity: 0.1; }
  40% { left: 100%; opacity: 0.7; }
  100% { left: 120%; opacity: 0.1; }
}
.kpi-card.kpi-main:hover .kpi-value {
  text-shadow: 0 0 32px #36d1c4cc, 0 2px 8px #fff7, 0 0 2px #fff, 0 0 8px #0002;
  background: none;
  -webkit-background-clip: initial;
  -webkit-text-fill-color: initial;
  background-clip: initial;
}
.kpi-card .kpi-label {
  font-size: 1.15rem;
  color: #181818;
  margin-top: 0.7rem;
  text-align: center;
  font-weight: 600;
  z-index: 1;
  letter-spacing: 0.01em;
  text-shadow: 0 1px 0 #fffbe6cc, 0 0 2px #fff, 0 0 8px #0001;
}
.kpi-card .kpi-unit {
  font-size: 1.05rem;
  color: #36d1c4;
  margin-top: 0.2rem;
  font-style: italic;
  z-index: 1;
  text-shadow: 0 1px 0 #fffbe6cc;
}
@keyframes kpiFadeIn {
  from { opacity: 0; transform: translateY(40px) scale(0.95); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}
/* --- KPI variation & previous year --- */
.kpi-card .kpi-variation {
  font-size: 1.25rem;
  font-weight: 700;
  margin: 0.5rem 0 0.2rem 0;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  justify-content: center;
  z-index: 1;
  transition: color 0.3s, text-shadow 0.3s;
  text-shadow: 0 1px 0 #fffbe6cc;
}
.kpi-card .kpi-variation.positive {
  color: #36d1c4;
  text-shadow: 0 0 8px #36d1c444, 0 1px 0 #fffbe6cc;
}
.kpi-card .kpi-variation.negative {
  color: #ff6a88;
  text-shadow: 0 0 8px #ff6a8844, 0 1px 0 #fffbe6cc;
}
.kpi-card .kpi-variation i {
  font-size: 1.1em;
  margin-right: 0.2em;
  filter: drop-shadow(0 0 4px #fffbe6cc);
}
.kpi-card .kpi-prev {
  font-size: 1.05rem;
  color: #888;
  margin-bottom: 0.2rem;
  text-align: center;
  z-index: 1;
  text-shadow: 0 1px 0 #fffbe6cc;
}
.kpi-card .kpi-prev-label {
  font-size: 0.95em;
  color: #4b5131;
  margin-left: 0.4em;
  font-style: italic;
  text-shadow: 0 1px 0 #fffbe6cc;
}
.kpi-card.kpi-main:hover .kpi-variation {
  color: #fff;
  text-shadow: 0 0 16px #36d1c4cc, 0 0 16px #ff6a88cc, 0 1px 0 #fffbe6cc;
}
.kpi-card.kpi-main:hover .kpi-variation.positive {
  color: #36d1c4;
}
.kpi-card.kpi-main:hover .kpi-variation.negative {
  color: #ff6a88;
}
@media (max-width: 900px) {
  .kpi-row {
    flex-direction: column;
    align-items: center;
    gap: 2rem;
  }
}

.kpi-card.kpi-circle {
  border-radius: 50%;
  width: 300px;
  height: 300px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  background: radial-gradient(circle at 60% 40%, #a1c4fd 0%, #fcb69f 100%);
  box-shadow: 0 0 40px 10px #a1c4fd88, 0 8px 32px 0 rgba(0,0,0,0.18);
  position: relative;
  margin: 0 1.5rem;
  animation: kpiGradientMove 8s ease-in-out infinite alternate;
  border: 4px solid #fff;
  overflow: hidden;
}
.kpi-card.kpi-circle .kpi-icon {
  font-size: 2.5rem;
  margin-bottom: 0.5rem;
  color: #36d1c4;
  filter: drop-shadow(0 0 8px #fff);
}
.kpi-card.kpi-circle .kpi-value {
  font-size: 2.2rem;
  font-weight: 900;
  color: #181818;
  text-shadow: 0 2px 8px #fff7, 0 1px 0 #fcb69f33, 0 0 18px #a1c4fd55, 0 0 2px #fff, 0 0 8px #0002;
}
.kpi-card.kpi-circle .kpi-label {
  font-size: 1rem;
  margin-top: 0.5rem;
  color: #222;
  text-align: center;
  font-weight: 600;
}
.kpi-card.kpi-circle .kpi-unit {
  font-size: 0.95rem;
  color: #36d1c4;
  font-style: italic;
}
.kpi-card.kpi-circle .kpi-variation {
  font-size: 1.1rem;
  font-weight: 700;
  margin: 0.3rem 0 0.1rem 0;
  display: flex;
  align-items: center;
  gap: 0.4rem;
  justify-content: center;
}
.kpi-card.kpi-circle .kpi-variation.positive { color: #36d1c4; }
.kpi-card.kpi-circle .kpi-variation.negative { color: #ff6a88; }
.kpi-card.kpi-circle .kpi-prev {
  font-size: 0.95rem;
  color: #888;
  margin-bottom: 0.1rem;
  text-align: center;
}
.kpi-card.kpi-circle .kpi-prev-label {
  font-size: 0.9em;
  color: #4b5131;
  margin-left: 0.3em;
  font-style: italic;
}

/* ============================
   Calendrier de collecte - Styles améliorés 
   ============================ */
.calendar-content {
  position: relative;
  overflow: visible;
}

.calendar-intro {
  margin-bottom: 2.5rem;
  text-align: center;
  max-width: 85%;
  margin-left: auto;
  margin-right: auto;
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1.8rem;
  margin: 2rem 0 2.5rem;
}

.calendar-season {
  background: var(--surface-glass);
  backdrop-filter: blur(20px);
  border-radius: var(--radius);
  padding: 2rem 1.8rem;
  box-shadow: var(--shadow-light);
  text-align: center;
  position: relative;
  overflow: hidden;
  transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), 
              box-shadow 0.4s ease;
  border: 1px solid rgba(255, 255, 255, 0.1);
  z-index: 1;
}

.calendar-season:hover {
  transform: translateY(-15px);
  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
  z-index: 2;
}

.calendar-season::before {
  content: '';
  position: absolute;
  width: 160%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  top: 0;
  left: -30%;
  transform: skewX(-30deg) translateX(-120%);
  transition: transform 0.5s ease;
}

.calendar-season:hover::before {
  transform: skewX(-30deg) translateX(120%);
}

.season-icon {
  font-size: 2.5rem;
  margin-bottom: 1.2rem;
  position: relative;
  display: inline-block;
}

.season-icon i {
  position: relative;
  z-index: 1;
  animation: floating 3s ease-in-out infinite;
}

.season-icon::after {
  content: '';
  position: absolute;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  opacity: 0.2;
  z-index: 0;
  transition: all 0.3s ease;
}

.calendar-season:hover .season-icon::after {
  transform: translate(-50%, -50%) scale(1.3);
  opacity: 0.35;
}

.calendar-season h3 {
  font-family: var(--title-font);
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 0.7rem;
  letter-spacing: var(--letter-spacing-title);
  position: relative;
}

.season-date {
  display: inline-block;
  background: rgba(255, 255, 255, 0.15);
  padding: 0.5rem 1.2rem;
  border-radius: 30px;
  font-weight: 600;
  font-size: 1.1rem;
  margin: 0.5rem 0 1.2rem;
  color: var(--primary);
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
  position: relative;
  transition: all 0.3s ease;
}

.calendar-season:hover .season-date {
  transform: scale(1.05);
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
}

.calendar-season p {
  line-height: 1.6;
  opacity: 0.9;
}

.calendar-legend {
  background: var(--surface-alt);
  border-radius: var(--radius);
  padding: 1.5rem;
  margin-top: 2rem;
  border-left: 4px solid var(--primary);
}

.calendar-legend p {
  margin-bottom: 0.7rem;
  display: flex;
  align-items: flex-start;
}

.calendar-legend p:last-child {
  margin-bottom: 0;
}

.calendar-legend i {
  color: var(--primary);
  margin-right: 0.7rem;
  font-size: 1.1rem;
  margin-top: 0.2rem;
}

.cta-container {
  text-align: center;
  margin-top: 2.5rem;
}

.btn--calendar {
  background: linear-gradient(135deg, var(--primary), var(--accent));
  color: var(--dark);
  padding: 1rem 2rem;
  font-size: 1.1rem;
  font-weight: 700;
  border: none;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
  transition: all 0.3s ease;
}

.btn--calendar:hover {
  transform: translateY(-5px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.3);
  background: linear-gradient(135deg, var(--accent), var(--primary));
}

.btn--calendar i {
  margin-right: 0.7rem;
}

/* Styles saisonniers */
.winter-season .season-icon i {
  color: #A1C4FD;
}

.winter-season .season-icon::after {
  background: #A1C4FD;
}

.winter-season h3 {
  color: #A1C4FD;
}

.spring-season .season-icon i {
  color: #81D4B0;
}

.spring-season .season-icon::after {
  background: #81D4B0;
}

.spring-season h3 {
  color: #81D4B0;
}

.summer-season .season-icon i {
  color: #FFD36A;
}

.summer-season .season-icon::after {
  background: #FFD36A;
}

.summer-season h3 {
  color: #FFD36A;
}

.autumn-season .season-icon i {
  color: #FF7E5F;
}

.autumn-season .season-icon::after {
  background: #FF7E5F;
}

.autumn-season h3 {
  color: #FF7E5F;
}

@keyframes floating {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

@media (max-width: 992px) {
  .calendar-grid {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .calendar-grid {
    grid-template-columns: 1fr;
  }
  
  .calendar-season {
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
  
  .calendar-intro {
    max-width: 100%;
  }
}

/* =============================
   Home Page Specific Styles - Mission & Technology
   ============================= */

/* Mission Objectives Section */
.mission-intro {
  margin-bottom: 30px;
}

.mission-objectives {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.objective-card {
  background: var(--surface-glass);
  border: 1px solid var(--border);
  border-radius: var(--border-radius);
  padding: 25px;
  text-align: center;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.objective-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(241, 196, 15, 0.1), transparent);
  transition: left 0.5s;
}

.objective-card:hover::before {
  left: 100%;
}

.objective-card:hover {
  transform: translateY(-5px);
  border-color: var(--primary);
  box-shadow: 0 10px 30px rgba(241, 196, 15, 0.2);
}

.objective-icon {
  font-size: 2.5rem;
  color: var(--primary);
  margin-bottom: 15px;
  transition: var(--transition);
}

.objective-card:hover .objective-icon {
  transform: scale(1.1);
  color: var(--primary-light);
}

.objective-card h3 {
  font-family: var(--title-font);
  font-size: 1.4rem;
  color: var(--primary);
  margin-bottom: 12px;
  font-weight: 600;
}

.objective-card p {
  color: var(--on-surface);
  line-height: 1.6;
  opacity: 0.9;
}

/* Technology Showcase Section */
.technology-showcase {
  background: var(--surface-glass);
  border-radius: var(--border-radius);
  padding: 30px;
  border: 1px solid var(--border);
}

.tech-description {
  max-width: 800px;
  margin: 0 auto;
}

.tech-header {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 20px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.tech-header h3 {
  font-family: var(--title-font);
  font-size: 1.6rem;
  color: var(--primary);
  margin: 0;
}

.tech-header img {
  filter: brightness(0.9);
  transition: var(--transition);
}

.tech-header:hover img {
  filter: brightness(1.1);
  transform: scale(1.05);
}

.technology-showcase p {
  font-size: 1.1rem;
  line-height: 1.7;
  margin-bottom: 25px;
  text-align: center;
  color: var(--on-surface);
}

.tech-features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.feature-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 15px;
  background: rgba(241, 196, 15, 0.05);
  border-radius: var(--border-radius-sm);
  border: 1px solid rgba(241, 196, 15, 0.2);
  transition: var(--transition);
}

.feature-item:hover {
  background: rgba(241, 196, 15, 0.1);
  border-color: var(--primary);
  transform: translateX(5px);
}

.feature-item i {
  color: var(--primary);
  font-size: 1.2rem;
  min-width: 20px;
}

.feature-item span {
  font-weight: 500;
  color: var(--on-surface);
}

/* Partners Grid Section */
.partners-intro {
  text-align: center;
  margin-bottom: 30px;
}

.partners-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.partner-card {
  background: var(--surface-glass);
  border: 1px solid var(--border);
  border-radius: var(--border-radius);
  padding: 25px;
  text-align: center;
  transition: var(--transition);
  position: relative;
}

.partner-card::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--secondary), var(--primary));
  transition: all 0.3s;
  transform: translateX(-50%);
}

.partner-card:hover::after {
  width: 80%;
}

.partner-card:hover {
  transform: translateY(-5px);
  border-color: var(--secondary);
  box-shadow: 0 10px 30px rgba(26, 188, 156, 0.2);
}

.partner-icon {
  font-size: 2.2rem;
  color: var(--secondary);
  margin-bottom: 15px;
  transition: var(--transition);
}

.partner-card:hover .partner-icon {
  transform: scale(1.1) rotateY(360deg);
  color: var(--primary);
}

.partner-card h3 {
  font-family: var(--title-font);
  font-size: 1.3rem;
  color: var(--secondary);
  margin-bottom: 12px;
  font-weight: 600;
}

.partner-card p {
  color: var(--on-surface);
  line-height: 1.6;
  opacity: 0.9;
}

/* About Grid Section */
.about-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.about-card {
  background: var(--surface-glass);
  border: 1px solid var(--border);
  border-radius: var(--border-radius);
  padding: 25px;
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.about-card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: conic-gradient(from 0deg, transparent, rgba(155, 89, 182, 0.1), transparent);
  transition: transform 0.6s;
  transform: rotate(0deg);
}

.about-card:hover::before {
  transform: rotate(360deg);
}

.about-card:hover {
  transform: translateY(-5px);
  border-color: var(--accent);
  box-shadow: 0 10px 30px rgba(155, 89, 182, 0.2);
}

.about-card h3 {
  font-family: var(--title-font);
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 12px;
  font-weight: 600;
  position: relative;
  z-index: 1;
}

.about-card h3 i {
  margin-right: 10px;
  font-size: 1.1rem;
}

.about-card p {
  color: var(--on-surface);
  line-height: 1.6;
  opacity: 0.9;
  position: relative;
  z-index: 1;
}

/* Responsive Design for New Sections */
@media (max-width: var(--breakpoint-lg)) {
  .mission-objectives,
  .partners-grid {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
  }
  
  .tech-features {
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }
}

@media (max-width: var(--breakpoint-md)) {
  .mission-objectives,
  .partners-grid,
  .about-grid {
    grid-template-columns: 1fr;
    gap: 15px;
  }
  
  .tech-features {
    grid-template-columns: 1fr;
  }
  
  .tech-header {
    flex-direction: column;
    gap: 15px;
  }
  
  .objective-card,
  .partner-card,
  .about-card {
    padding: 20px;
  }
  
  .technology-showcase {
    padding: 20px;
  }
}

/* Methodology Page Styles */
.methodology-page {
  background: linear-gradient(135deg, var(--bg) 0%, var(--surface) 100%);
  min-height: 100vh;
  padding-top: 80px;
}

.methodology-content {
  max-width: 1200px;
  margin: 0 auto;
  padding: 2rem;
}

.page-header {
  text-align: center;
  margin-bottom: 3rem;
}

.page-title {
  background: var(--surface-glass);
  padding: 2rem;
  border-radius: var(--border-radius);
  border: 1px solid var(--border);
  box-shadow: var(--shadow-light);
  backdrop-filter: blur(15px);
}

.page-title h1 {
  font-family: var(--title-font);
  font-size: 2.5rem;
  color: var(--primary);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1rem;
}

.page-subtitle {
  color: var(--on-surface);
  font-size: 1.2rem;
  opacity: 0.9;
}

.methodology-section {
  background: var(--surface-glass);
  border-radius: var(--border-radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: var(--shadow-light);
  backdrop-filter: blur(15px);
  border: 1px solid var(--border);
}

.methodology-section h2 {
  color: var(--primary);
  margin-bottom: 1.5rem;
  font-size: 1.8rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-family: var(--title-font);
}

.method-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 1.5rem;
}

.method-card {
  background: var(--surface);
  padding: 1.5rem;
  border-radius: var(--border-radius-sm);
  border-left: 4px solid var(--primary);
  transition: var(--transition);
  border: 1px solid var(--border);
}

.method-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-light);
  border-color: var(--primary);
}

.method-card h3 {
  color: var(--primary);
  margin-bottom: 1rem;
  font-size: 1.3rem;
  font-family: var(--title-font);
}

.profiles-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1.5rem;
}

.profile-card {
  background: var(--surface);
  padding: 1.5rem;
  border-radius: var(--border-radius);
  text-align: center;
  border: 1px solid var(--border);
  transition: var(--transition);
  position: relative;
  overflow: hidden;
}

.profile-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, var(--primary), var(--secondary));
}

.profile-card:hover {
  border-color: var(--primary);
  transform: scale(1.05);
  box-shadow: var(--shadow-light);
}

.profile-card h3 {
  color: var(--primary);
  margin-bottom: 1rem;
  font-size: 1.4rem;
  font-family: var(--title-font);
}

.indicators-list {
  display: grid;
  gap: 1rem;
}

.indicator-item {
  background: var(--surface);
  padding: 1.2rem;
  border-radius: var(--border-radius-sm);
  border-left: 3px solid var(--secondary);
  transition: var(--transition);
  border: 1px solid var(--border);
}

.indicator-item:hover {
  background: var(--surface-alt);
  border-left-width: 5px;
  transform: translateX(5px);
  border-color: var(--secondary);
}

.indicator-item h4 {
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-size: 1.2rem;
  font-family: var(--title-font);
}

.compliance-info {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: 1.5rem;
}

.compliance-item {
  background: var(--surface);
  padding: 1.5rem;
  border-radius: var(--border-radius-sm);
  border: 2px solid var(--accent4);
  text-align: center;
  transition: var(--transition);
}

.compliance-item:hover {
  background: var(--surface-alt);
  transform: scale(1.02);
  box-shadow: var(--shadow-light);
  border-color: var(--accent4);
}

.compliance-item h4 {
  color: var(--accent4);
  margin-bottom: 1rem;
  font-size: 1.3rem;
  font-family: var(--title-font);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
}

.compliance-item h4::before {
  content: '\f00c';
  font-family: 'Font Awesome 6 Free';
  font-weight: 900;
}

